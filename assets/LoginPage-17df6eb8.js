import{ap as de,N as he,$ as pe,b as fe,aq as me,O as xe,r as w,Z as Se,a9 as Ie,j as c,c as j,u as T,a as Le,ar as ye}from"./index-8c3d6812.js";import{u as Ee}from"./useAppDispatch-1a4e8710.js";import{D as Ne}from"./DynamicModuleLoader-1cdef1f7.js";import{B as te}from"./Button-fa91d5f6.js";const be="_LoginForm_e8hhr_1",je="_WelcomeText_e8hhr_9",Oe="_LoginWidget_e8hhr_15",Ae="_Logo_e8hhr_21",Fe="_Input_e8hhr_30",Me="_LastInput_e8hhr_37",De="_AccountAlrearyExists_e8hhr_44",Re="_AccountAlrearyExistsText_e8hhr_49",Te="_AccountAlrearyExistsLink_e8hhr_53",Pe="_loader_e8hhr_58",Be="_loginBtn_e8hhr_62",Ve="_changeToRegistration_e8hhr_71",ze="_CantLoginWidget_e8hhr_81",We="_left_e8hhr_89",He="_header_e8hhr_94",Ue="_info_e8hhr_97",qe="_phone_e8hhr_102",Ze="_right_e8hhr_107",L={LoginForm:be,WelcomeText:je,LoginWidget:Oe,Logo:Ae,Input:Fe,LastInput:Me,Error:"_Error_e8hhr_40",AccountAlrearyExists:De,AccountAlrearyExistsText:Re,AccountAlrearyExistsLink:Te,loader:Pe,loginBtn:Be,changeToRegistration:Ve,CantLoginWidget:ze,left:We,header:He,info:Ue,phone:qe,right:Ze},ge=t=>t.loginForm,Ye=t=>{var n;return(n=t.loginForm)==null?void 0:n.password},Xe=t=>{var n;return(n=t.loginForm)==null?void 0:n.passwordConfirm},$e=t=>{var n;return(n=t.loginForm)==null?void 0:n.userName},Ge=t=>{var n;return(n=t.loginForm)==null?void 0:n.name},Je=t=>{var n;return(n=t.loginForm)==null?void 0:n.isLoading},Ke=t=>{var n;return(n=t.loginForm)==null?void 0:n.error},Qe=de(ge,t=>({userName:t.userName,password:t.password})),et=de(ge,t=>({userName:t.userName,password:t.password,name:t.name})),Y=he("login/loginByUserName",async(t,n)=>{const{dispatch:r,rejectWithValue:o,getState:e}=n,s=Qe(e());try{const a=await pe("http://localhost:5001/api/auth/login",{method:"POST",body:JSON.stringify(s)});if(!a.user)throw new Error;return await r(fe.setAuthData(a.user)),localStorage.setItem(me,JSON.stringify(a)),a.user}catch{return o("error")}}),X=he("login/registration",async(t,n)=>{const{dispatch:r,rejectWithValue:o,getState:e}=n,s=et(e());try{const a=await pe("http://localhost:5001/api/auth/registration",{method:"POST",body:JSON.stringify(s)});if(!a.user)throw new Error;return await r(fe.setAuthData(a.user)),localStorage.setItem(me,JSON.stringify(a)),a.user}catch{return o("error")}}),tt={password:"",userName:"",name:"",passwordConfirm:"",isLoading:!1},ve=xe({name:"login",initialState:tt,reducers:{setUserName:(t,n)=>{t.userName=n.payload},setPassword:(t,n)=>{t.password=n.payload},setPasswordConfirm:(t,n)=>{t.passwordConfirm=n.payload},setName:(t,n)=>{t.name=n.payload}},extraReducers:t=>{t.addCase(Y.pending,n=>{n.error=void 0,n.isLoading=!0}).addCase(Y.fulfilled,n=>{n.isLoading=!1}).addCase(Y.rejected,(n,r)=>{n.isLoading=!1,n.error=r.payload}).addCase(X.pending,n=>{n.error=void 0,n.isLoading=!0}).addCase(X.fulfilled,n=>{n.isLoading=!1}).addCase(X.rejected,(n,r)=>{n.isLoading=!1,n.error=r.payload})}}),{actions:Z}=ve,{reducer:nt}=ve,ot="_input_izfct_1",rt="_rowStartIcon_izfct_12",st="_inputBlock_izfct_16",at="_inputBlockTextArea_izfct_16",it="_htmlInputBlock_izfct_23",lt="_htmlInputBlockTextArea_izfct_23",ct="_uploadPhotoLabel_izfct_31",ut="_htmlInput_izfct_23",dt="_dateDiv_izfct_46",ht="_htmlInputDate_izfct_50",pt="_clear_izfct_58",ft="_htmlInputText_izfct_64",mt="_inputBlockFile_izfct_75",gt="_img_izfct_78",vt="_button_izfct_87",kt="_icon_izfct_102",wt="_required_izfct_151",Ct="_disabled_izfct_159",_={input:ot,rowStartIcon:rt,inputBlock:st,inputBlockTextArea:at,htmlInputBlock:it,htmlInputBlockTextArea:lt,uploadPhotoLabel:ct,htmlInput:ut,dateDiv:dt,htmlInputDate:ht,clear:pt,htmlInputText:ft,inputBlockFile:mt,img:gt,button:vt,icon:kt,required:wt,disabled:Ct};var ke={exports:{}};function _t(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var G=_t(w),xt=Se;function St(t,n){for(var r=Object.getOwnPropertyNames(n),o=0;o<r.length;o++){var e=r[o],s=Object.getOwnPropertyDescriptor(n,e);s&&s.configurable&&t[e]===void 0&&Object.defineProperty(t,e,s)}return t}function Q(){return(Q=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t}).apply(this,arguments)}function It(t,n){t.prototype=Object.create(n.prototype),St(t.prototype.constructor=t,n)}function Lt(t,n){if(t==null)return{};var r,o,e={},s=Object.keys(t);for(o=0;o<s.length;o++)r=s[o],0<=n.indexOf(r)||(e[r]=t[r]);return e}function P(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var yt=function(t,n,r,o,e,s,a,u){if(!t){var l;if(n===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,o,e,s,a,u],h=0;(l=new Error(n.replace(/%s/g,function(){return d[h++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}},ne=yt;function oe(t,n,r){if("selectionStart"in t&&"selectionEnd"in t)t.selectionStart=n,t.selectionEnd=r;else{var o=t.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}}function Et(t){var n=0,r=0;if("selectionStart"in t&&"selectionEnd"in t)n=t.selectionStart,r=t.selectionEnd;else{var o=document.selection.createRange();o.parentElement()===t&&(n=-o.moveStart("character",-t.value.length),r=-o.moveEnd("character",-t.value.length))}return{start:n,end:r,length:r-n}}var Nt={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},bt="_";function re(t,n,r){var o="",e="",s=null,a=[];if(n===void 0&&(n=bt),r==null&&(r=Nt),!t||typeof t!="string")return{maskChar:n,formatChars:r,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var u=!1;return t.split("").forEach(function(l){u=!u&&l==="\\"||(u||!r[l]?(a.push(o.length),o.length===a.length-1&&(e+=l)):s=o.length+1,o+=l,!1)}),{maskChar:n,formatChars:r,prefix:e,mask:o,lastEditablePosition:s,permanents:a}}function N(t,n){return t.permanents.indexOf(n)!==-1}function $(t,n,r){var o=t.mask,e=t.formatChars;if(!r)return!1;if(N(t,n))return o[n]===r;var s=e[o[n]];return new RegExp(s).test(r)}function se(t,n){return n.split("").every(function(r,o){return N(t,o)||!$(t,o,r)})}function V(t,n){var r=t.maskChar,o=t.prefix;if(!r){for(;n.length>o.length&&N(t,n.length-1);)n=n.slice(0,n.length-1);return n.length}for(var e=o.length,s=n.length;s>=o.length;s--){var a=n[s];if(!N(t,s)&&$(t,s,a)){e=s+1;break}}return e}function we(t,n){return V(t,n)===t.mask.length}function F(t,n){var r=t.maskChar,o=t.mask,e=t.prefix;if(!r){for((n=ee(t,"",n,0)).length<e.length&&(n=e);n.length<o.length&&N(t,n.length);)n+=o[n.length];return n}if(n)return ee(t,F(t,""),n,0);for(var s=0;s<o.length;s++)N(t,s)?n+=o[s]:n+=r;return n}function jt(t,n,r,o){var e=r+o,s=t.maskChar,a=t.mask,u=t.prefix,l=n.split("");if(s)return l.map(function(h,C){return C<r||e<=C?h:N(t,C)?a[C]:s}).join("");for(var d=e;d<l.length;d++)N(t,d)&&(l[d]="");return r=Math.max(u.length,r),l.splice(r,e-r),n=l.join(""),F(t,n)}function ee(t,n,r,o){var e=t.mask,s=t.maskChar,a=t.prefix,u=r.split(""),l=we(t,n);return!s&&o>n.length&&(n+=e.slice(n.length,o)),u.every(function(d){for(;m=d,N(t,f=o)&&m!==e[f];){if(o>=n.length&&(n+=e[o]),h=d,C=o,s&&N(t,C)&&h===s)return!0;if(++o>=e.length)return!1}var h,C,f,m;return!$(t,o,d)&&d!==s||(o<n.length?n=s||l||o<a.length?n.slice(0,o)+d+n.slice(o+1):(n=n.slice(0,o)+d+n.slice(o),F(t,n)):s||(n+=d),++o<e.length)}),n}function Ot(t,n,r,o){var e=t.mask,s=t.maskChar,a=r.split(""),u=o;return a.every(function(l){for(;h=l,N(t,d=o)&&h!==e[d];)if(++o>=e.length)return!1;var d,h;return($(t,o,l)||l===s)&&o++,o<e.length}),o-u}function At(t,n){for(var r=n;0<=r;--r)if(!N(t,r))return r;return null}function H(t,n){for(var r=t.mask,o=n;o<r.length;++o)if(!N(t,o))return o;return null}function J(t){return t||t===0?t+"":""}function Ft(t,n,r,o,e){var s=t.mask,a=t.prefix,u=t.lastEditablePosition,l=n,d="",h=0,C=0,f=Math.min(e.start,r.start);return r.end>e.start?C=(h=Ot(t,o,d=l.slice(e.start,r.end),f))?e.length:0:l.length<o.length&&(C=o.length-l.length),l=o,C&&(C===1&&!e.length&&(f=e.start===r.start?H(t,r.start):At(t,r.start)),l=jt(t,l,f,C)),l=ee(t,l,d,f),(f+=h)>=s.length?f=s.length:f<a.length&&!h?f=a.length:f>=a.length&&f<u&&h&&(f=H(t,f)),d||(d=null),{value:l=F(t,l),enteredString:d,selection:{start:f,end:f}}}function Mt(){var t=new RegExp("windows","i"),n=new RegExp("phone","i"),r=navigator.userAgent;return t.test(r)&&n.test(r)}function E(t){return typeof t=="function"}function Dt(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame}function Ce(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function ae(t){return(Ce()?Dt():function(){return setTimeout(t,1e3/60)})(t)}function K(t){(Ce()||clearTimeout)(t)}var Rt=function(t){function n(o){var e=t.call(this,o)||this;e.focused=!1,e.mounted=!1,e.previousSelection=null,e.selectionDeferId=null,e.saveSelectionLoopDeferId=null,e.saveSelectionLoop=function(){e.previousSelection=e.getSelection(),e.saveSelectionLoopDeferId=ae(e.saveSelectionLoop)},e.runSaveSelectionLoop=function(){e.saveSelectionLoopDeferId===null&&e.saveSelectionLoop()},e.stopSaveSelectionLoop=function(){e.saveSelectionLoopDeferId!==null&&(K(e.saveSelectionLoopDeferId),e.saveSelectionLoopDeferId=null,e.previousSelection=null)},e.getInputDOMNode=function(){if(!e.mounted)return null;var i=xt.findDOMNode(P(P(e))),p=typeof window<"u"&&i instanceof window.Element;if(i&&!p)return null;if(i.nodeName!=="INPUT"&&(i=i.querySelector("input")),!i)throw new Error("react-input-mask: inputComponent doesn't contain input node");return i},e.getInputValue=function(){var i=e.getInputDOMNode();return i?i.value:null},e.setInputValue=function(i){var p=e.getInputDOMNode();p&&(e.value=i,p.value=i)},e.setCursorToEnd=function(){var i=V(e.maskOptions,e.value),p=H(e.maskOptions,i);p!==null&&e.setCursorPosition(p)},e.setSelection=function(i,p,g){g===void 0&&(g={});var v=e.getInputDOMNode(),k=e.isFocused();v&&k&&(g.deferred||oe(v,i,p),e.selectionDeferId!==null&&K(e.selectionDeferId),e.selectionDeferId=ae(function(){e.selectionDeferId=null,oe(v,i,p)}),e.previousSelection={start:i,end:p,length:Math.abs(p-i)})},e.getSelection=function(){return Et(e.getInputDOMNode())},e.getCursorPosition=function(){return e.getSelection().start},e.setCursorPosition=function(i){e.setSelection(i,i)},e.isFocused=function(){return e.focused},e.getBeforeMaskedValueChangeConfig=function(){var i=e.maskOptions,p=i.mask,g=i.maskChar,v=i.permanents,k=i.formatChars;return{mask:p,maskChar:g,permanents:v,alwaysShowMask:!!e.props.alwaysShowMask,formatChars:k}},e.isInputAutofilled=function(i,p,g,v){var k=e.getInputDOMNode();try{if(k.matches(":-webkit-autofill"))return!0}catch{}return!e.focused||v.end<g.length&&p.end===i.length},e.onChange=function(i){var p=P(P(e)).beforePasteState,g=P(P(e)).previousSelection,v=e.props.beforeMaskedValueChange,k=e.getInputValue(),S=e.value,x=e.getSelection();e.isInputAutofilled(k,x,S,g)&&(S=F(e.maskOptions,""),g={start:0,end:0,length:0}),p&&(g=p.selection,S=p.value,x={start:g.start+k.length,end:g.start+k.length,length:0},k=S.slice(0,g.start)+k+S.slice(g.end),e.beforePasteState=null);var y=Ft(e.maskOptions,k,x,S,g),O=y.enteredString,I=y.selection,b=y.value;if(E(v)){var M=v({value:b,selection:I},{value:S,selection:g},O,e.getBeforeMaskedValueChangeConfig());b=M.value,I=M.selection}e.setInputValue(b),E(e.props.onChange)&&e.props.onChange(i),e.isWindowsPhoneBrowser?e.setSelection(I.start,I.end,{deferred:!0}):e.setSelection(I.start,I.end)},e.onFocus=function(i){var p=e.props.beforeMaskedValueChange,g=e.maskOptions,v=g.mask,k=g.prefix;if(e.focused=!0,e.mounted=!0,v){if(e.value)V(e.maskOptions,e.value)<e.maskOptions.mask.length&&e.setCursorToEnd();else{var S=F(e.maskOptions,k),x=F(e.maskOptions,S),y=V(e.maskOptions,x),O=H(e.maskOptions,y),I={start:O,end:O};if(E(p)){var b=p({value:x,selection:I},{value:e.value,selection:null},null,e.getBeforeMaskedValueChangeConfig());x=b.value,I=b.selection}var M=x!==e.getInputValue();M&&e.setInputValue(x),M&&E(e.props.onChange)&&e.props.onChange(i),e.setSelection(I.start,I.end)}e.runSaveSelectionLoop()}E(e.props.onFocus)&&e.props.onFocus(i)},e.onBlur=function(i){var p=e.props.beforeMaskedValueChange,g=e.maskOptions.mask;if(e.stopSaveSelectionLoop(),e.focused=!1,g&&!e.props.alwaysShowMask&&se(e.maskOptions,e.value)){var v="";E(p)&&(v=p({value:v,selection:null},{value:e.value,selection:e.previousSelection},null,e.getBeforeMaskedValueChangeConfig()).value);var k=v!==e.getInputValue();k&&e.setInputValue(v),k&&E(e.props.onChange)&&e.props.onChange(i)}E(e.props.onBlur)&&e.props.onBlur(i)},e.onMouseDown=function(i){if(!e.focused&&document.addEventListener){e.mouseDownX=i.clientX,e.mouseDownY=i.clientY,e.mouseDownTime=new Date().getTime();var p=function g(v){if(document.removeEventListener("mouseup",g),e.focused){var k=Math.abs(v.clientX-e.mouseDownX),S=Math.abs(v.clientY-e.mouseDownY),x=Math.max(k,S),y=new Date().getTime()-e.mouseDownTime;(x<=10&&y<=200||x<=5&&y<=300)&&e.setCursorToEnd()}};document.addEventListener("mouseup",p)}E(e.props.onMouseDown)&&e.props.onMouseDown(i)},e.onPaste=function(i){E(e.props.onPaste)&&e.props.onPaste(i),i.defaultPrevented||(e.beforePasteState={value:e.getInputValue(),selection:e.getSelection()},e.setInputValue(""))},e.handleRef=function(i){e.props.children==null&&E(e.props.inputRef)&&e.props.inputRef(i)};var s=o.mask,a=o.maskChar,u=o.formatChars,l=o.alwaysShowMask,d=o.beforeMaskedValueChange,h=o.defaultValue,C=o.value;e.maskOptions=re(s,a,u),h==null&&(h=""),C==null&&(C=h);var f=J(C);if(e.maskOptions.mask&&(l||f)&&(f=F(e.maskOptions,f),E(d))){var m=o.value;o.value==null&&(m=h),f=d({value:f,selection:null},{value:m=J(m),selection:null},null,e.getBeforeMaskedValueChangeConfig()).value}return e.value=f,e}It(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=Mt(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},r.componentDidUpdate=function(){var o=this.previousSelection,e=this.props,s=e.beforeMaskedValueChange,a=e.alwaysShowMask,u=e.mask,l=e.maskChar,d=e.formatChars,h=this.maskOptions,C=a||this.isFocused(),f=this.props.value!=null,m=f?J(this.props.value):this.value,i=o?o.start:null;if(this.maskOptions=re(u,l,d),this.maskOptions.mask){!h.mask&&this.isFocused()&&this.runSaveSelectionLoop();var p=this.maskOptions.mask&&this.maskOptions.mask!==h.mask;if(h.mask||f||(m=this.getInputValue()),(p||this.maskOptions.mask&&(m||C))&&(m=F(this.maskOptions,m)),p){var g=V(this.maskOptions,m);(i===null||g<i)&&(i=we(this.maskOptions,m)?g:H(this.maskOptions,g))}!this.maskOptions.mask||!se(this.maskOptions,m)||C||f&&this.props.value||(m="");var v={start:i,end:i};if(E(s)){var k=s({value:m,selection:v},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());m=k.value,v=k.selection}this.value=m;var S=this.getInputValue()!==this.value;S?(this.setInputValue(this.value),this.forceUpdate()):p&&this.forceUpdate();var x=!1;v.start!=null&&v.end!=null&&(x=!o||o.start!==v.start||o.end!==v.end),(x||S)&&this.setSelection(v.start,v.end)}else h.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},r.componentWillUnmount=function(){this.mounted=!1,this.selectionDeferId!==null&&K(this.selectionDeferId),this.stopSaveSelectionLoop()},r.render=function(){var o,e=this.props,s=(e.mask,e.alwaysShowMask,e.maskChar,e.formatChars,e.inputRef,e.beforeMaskedValueChange,e.children),a=Lt(e,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(s){E(s)||ne(!1);var u=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],l=Q({},a);u.forEach(function(h){return delete l[h]}),o=s(l),u.filter(function(h){return o.props[h]!=null&&o.props[h]!==a[h]}).length&&ne(!1)}else o=G.createElement("input",Q({ref:this.handleRef},a));var d={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(a.disabled||a.readOnly||(d.onChange=this.onChange,d.onPaste=this.onPaste,d.onMouseDown=this.onMouseDown),a.value!=null&&(d.value=this.value)),o=G.cloneElement(o,d)},n}(G.Component),Tt=Rt;ke.exports=Tt;var Pt=ke.exports;const Bt=Ie(Pt);var U=new Map;function Vt(t){var n=U.get(t);n&&n.destroy()}function zt(t){var n=U.get(t);n&&n.update()}var z=null;typeof window>"u"?((z=function(t){return t}).destroy=function(t){return t},z.update=function(t){return t}):((z=function(t,n){return t&&Array.prototype.forEach.call(t.length?t:[t],function(r){return function(o){if(o&&o.nodeName&&o.nodeName==="TEXTAREA"&&!U.has(o)){var e,s=null,a=window.getComputedStyle(o),u=(e=o.value,function(){d({testForHeightReduction:e===""||!o.value.startsWith(e),restoreTextAlign:null}),e=o.value}),l=(function(C){o.removeEventListener("autosize:destroy",l),o.removeEventListener("autosize:update",h),o.removeEventListener("input",u),window.removeEventListener("resize",h),Object.keys(C).forEach(function(f){return o.style[f]=C[f]}),U.delete(o)}).bind(o,{height:o.style.height,resize:o.style.resize,textAlign:o.style.textAlign,overflowY:o.style.overflowY,overflowX:o.style.overflowX,wordWrap:o.style.wordWrap});o.addEventListener("autosize:destroy",l),o.addEventListener("autosize:update",h),o.addEventListener("input",u),window.addEventListener("resize",h),o.style.overflowX="hidden",o.style.wordWrap="break-word",U.set(o,{destroy:l,update:h}),h()}function d(C){var f,m,i=C.restoreTextAlign,p=i===void 0?null:i,g=C.testForHeightReduction,v=g===void 0||g,k=a.overflowY;if(o.scrollHeight!==0&&(a.resize==="vertical"?o.style.resize="none":a.resize==="both"&&(o.style.resize="horizontal"),v&&(f=function(x){for(var y=[];x&&x.parentNode&&x.parentNode instanceof Element;)x.parentNode.scrollTop&&y.push([x.parentNode,x.parentNode.scrollTop]),x=x.parentNode;return function(){return y.forEach(function(O){var I=O[0],b=O[1];I.style.scrollBehavior="auto",I.scrollTop=b,I.style.scrollBehavior=null})}}(o),o.style.height=""),m=a.boxSizing==="content-box"?o.scrollHeight-(parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)):o.scrollHeight+parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth),a.maxHeight!=="none"&&m>parseFloat(a.maxHeight)?(a.overflowY==="hidden"&&(o.style.overflow="scroll"),m=parseFloat(a.maxHeight)):a.overflowY!=="hidden"&&(o.style.overflow="hidden"),o.style.height=m+"px",p&&(o.style.textAlign=p),f&&f(),s!==m&&(o.dispatchEvent(new Event("autosize:resized",{bubbles:!0})),s=m),k!==a.overflow&&!p)){var S=a.textAlign;a.overflow==="hidden"&&(o.style.textAlign=S==="start"?"end":"start"),d({restoreTextAlign:S,testForHeightReduction:!0})}}function h(){d({testForHeightReduction:!0,restoreTextAlign:null})}}(r)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],Vt),t},z.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],zt),t});var ie=z;const Wt=t=>w.createElement("svg",{width:40,height:40,viewBox:"0 0 24 24",fill:"none",...t},w.createElement("g",{id:"Menu / Close_LG"},w.createElement("path",{id:"Vector",d:"M21 21L12 12M12 12L3 3M12 12L21.0001 3M12 12L3 21.0001",stroke:"#000000",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))),W=w.forwardRef(({className:t,onBlur:n,onChange:r,children:o,onPhotoChange:e,value:s,width:a,type:u,disabled:l,notDisabledEvent:d,textAfterInput:h,dateValueString:C,isWithEvent:f,buttonLabel:m,eventAction:i,buttonIcon:p,rowStartIcon:g,clearable:v,required:k,...S},x)=>{const y=q=>{if(u==="number"){let R=String(q.target.value);R.length!==1&&![".",","].includes(R[1])&&(R=R.replace(/^0+/,""),A.current.value=R),r==null||r(Number(R))}else r==null||r(q.target.value)},O=q=>{r==null||r(q.target.value)},I=g??null,b=p??null,M=w.useCallback(()=>{i&&i()},[i]),A=w.useRef(null),D=w.useRef(null),_e=w.useCallback(()=>{u==="number"?A.current&&(A.current.focus(),s==0&&A.current.select()):u==="textarea"?D.current&&D.current.focus():A.current&&(u==="date"?A.current.showPicker():A.current.focus())},[u,s]);w.useEffect(()=>{D.current&&ie(D.current)},[]),w.useEffect(()=>{D.current&&ie.update(D.current)},[s]);let B=c.jsxs("div",{className:_.htmlInputBlock,children:[c.jsx("input",{onChange:y,className:j(_.htmlInput,{[_.disabled]:l}),ref:A,value:s??"",disabled:l,...S,type:u,onBlur:n}),c.jsx("span",{children:h})]});return u==="textarea"&&(B=c.jsxs("div",{className:_.htmlInputBlockTextArea,children:[c.jsx("textarea",{onChange:O,className:j(_.htmlInput,{[_.disabled]:l}),value:s??void 0,placeholder:S.placeholder,ref:D,disabled:l,onBlur:n}),c.jsx("span",{children:h})]})),u==="phone"&&(B=c.jsx(Bt,{onChange:y,value:s??"+7 (***) *** - ** - **",alwaysShowMask:!0,className:j(_.htmlInput,{[_.disabled]:l}),disabled:l,mask:"+7 (***) *** - ** - **",maskChar:"_",onBlur:n,...S})),u==="date"&&(B=c.jsxs("div",{className:_.dateDiv,children:[c.jsx("input",{onChange:y,value:s,ref:A,className:j(_.htmlInputDate,{[_.disabled]:l}),...S,type:u,disabled:l,onBlur:n}),c.jsx("div",{className:j(_.htmlInputText,{[_.disabled]:l}),children:C||(s??"")}),v&&!!s&&c.jsx("div",{className:_.clear,onClick:()=>r(void 0),children:c.jsx(Wt,{width:10,height:10})})]})),u==="file"&&(B=c.jsxs("div",{className:_.htmlInputBlock,children:[c.jsx("label",{className:_.uploadPhotoLabel,htmlFor:"upload-photo",children:"Загрузить фото"}),c.jsx("input",{type:"file",id:"upload-photo",accept:"image/*,image/jpeg",disabled:l,onChange:e,onBlur:n,className:j(_.htmlInput,{[_.disabled]:l}),...S})]})),c.jsxs("div",{className:j(_.input,{[_.disabled]:l,[_.width]:a},[t]),onClick:_e,children:[!!g&&c.jsx("span",{className:_.rowStartIcon,children:I}),c.jsx("div",{className:j(_.inputBlock,{[_.inputBlockFile]:u==="file",[_.inputBlockTextArea]:u==="textarea"}),children:o||B}),u==="file"&&c.jsx("label",{className:_.img,children:s||void 0}),(!l||d)&&(!!b||!!m)&&c.jsxs("button",{className:j(_.button,{[_.disabled]:l}),onClick:M,children:[!!p&&c.jsx("span",{className:_.icon,children:b}),!!m&&c.jsx("span",{children:m})]})]})});W.displayName="Input";const le=t=>w.createElement("svg",{fill:"#000000",width:40,height:40,viewBox:"0 0 32 32",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},xmlSpace:"preserve",...t},w.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),w.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("g",{id:"SVGRepo_iconCarrier"},w.createElement("g",{id:"Icon"},w.createElement("path",{d:"M4.96,27.999l0.051,0.001l0.043,-0.004c0.191,-0.024 0.957,-0.171 0.957,-0.996c-0,-4.971 4.029,-9 9,-9c0.661,-0 1.327,-0 1.988,-0c4.97,-0 9,4.029 9,9l-0,0c-0,0.021 0,0.041 0.002,0.061c0.015,0.325 0.153,0.537 0.323,0.676c0.178,0.164 0.415,0.263 0.675,0.263c-0,0 1,-0.057 1,-1c-0,-6.075 -4.925,-11 -11,-11c-0.661,-0 -1.327,-0 -1.988,-0c-6.075,-0 -11,4.925 -11,11c-0,-0.05 0.003,-0.092 0.008,-0.127c-0.005,0.041 -0.008,0.084 -0.008,0.127c-0,0.535 0.42,0.972 0.949,0.999Z"}),w.createElement("path",{d:"M15.994,3.988c-2.763,-0 -5.006,2.243 -5.006,5.006c-0,2.763 2.243,5.006 5.006,5.006c2.763,0 5.006,-2.243 5.006,-5.006c0,-2.763 -2.243,-5.006 -5.006,-5.006Zm-0,2c1.659,-0 3.006,1.347 3.006,3.006c0,1.659 -1.347,3.006 -3.006,3.006c-1.659,0 -3.006,-1.347 -3.006,-3.006c-0,-1.659 1.347,-3.006 3.006,-3.006Z"})))),ce=t=>w.createElement("svg",{width:40,height:40,viewBox:"0 0 24 24",fill:"none",...t},w.createElement("g",{id:"style=stroke"},w.createElement("g",{id:"lock-circle"},w.createElement("path",{id:"vector (Stroke)",fillRule:"evenodd",clipRule:"evenodd",d:"M7.22703 3.22703C8.4929 1.96116 10.2098 1.25 12 1.25C13.7902 1.25 15.5071 1.96116 16.773 3.22703C18.0388 4.4929 18.75 6.20979 18.75 8C18.75 8.41421 18.4142 8.75 18 8.75C17.5858 8.75 17.25 8.41421 17.25 8C17.25 6.60761 16.6969 5.27226 15.7123 4.28769C14.7277 3.30312 13.3924 2.75 12 2.75C10.6076 2.75 9.27226 3.30312 8.28769 4.28769C7.30312 5.27225 6.75 6.60761 6.75 8C6.75 8.41421 6.41421 8.75 6 8.75C5.58579 8.75 5.25 8.41421 5.25 8C5.25 6.20979 5.96116 4.4929 7.22703 3.22703Z",fill:"#000000"}),w.createElement("path",{id:"vector (Stroke)_2",fillRule:"evenodd",clipRule:"evenodd",d:"M1.25 13C1.25 9.82436 3.82436 7.25 7 7.25H17C20.1756 7.25 22.75 9.82436 22.75 13V17C22.75 20.1756 20.1756 22.75 17 22.75H7C3.82436 22.75 1.25 20.1756 1.25 17V13ZM7 8.75C4.65279 8.75 2.75 10.6528 2.75 13V17C2.75 19.3472 4.65279 21.25 7 21.25H17C19.3472 21.25 21.25 19.3472 21.25 17V13C21.25 10.6528 19.3472 8.75 17 8.75H7Z",fill:"#000000"}),w.createElement("path",{id:"vector (Stroke)_3",fillRule:"evenodd",clipRule:"evenodd",d:"M12 13.75C11.3096 13.75 10.75 14.3096 10.75 15C10.75 15.6904 11.3096 16.25 12 16.25C12.6904 16.25 13.25 15.6904 13.25 15C13.25 14.3096 12.6904 13.75 12 13.75ZM9.25 15C9.25 13.4812 10.4812 12.25 12 12.25C13.5188 12.25 14.75 13.4812 14.75 15C14.75 16.5188 13.5188 17.75 12 17.75C10.4812 17.75 9.25 16.5188 9.25 15Z",fill:"#000000"}))));const Ht=()=>c.jsx("span",{className:"loader"}),Ut={loginForm:nt},qt=w.memo(({className:t,onSuccess:n})=>{const r=Ee(),o=T($e),e=T(Ye),s=T(Ge),a=T(Xe),u=T(Je),l=T(Ke),d=w.useCallback(k=>{r(Z.setUserName(k))},[r]),h=w.useCallback(k=>{r(Z.setPassword(k))},[r]),C=w.useCallback(k=>{r(Z.setName(k))},[r]),f=w.useCallback(k=>{r(Z.setPasswordConfirm(k))},[r]),[m,i]=w.useState(!1),p=w.useCallback(()=>{i(!m),d(""),h(""),C(""),f("")},[m,C,h,f,d]),g=w.useCallback(async()=>{if(!o||!e)return;(await r(Y()).catch()).meta.requestStatus==="fulfilled"&&n()},[n,r,e,o]),v=w.useCallback(async()=>{if(!o||!e||!a||!s||e!==a)return;(await r(X())).meta.requestStatus==="fulfilled"&&n()},[o,e,a,s,r,n]);return c.jsx(Ne,{removeAfterUnmount:!0,reducers:Ut,children:c.jsxs("div",{className:j(L.LoginForm,{},[t]),children:[c.jsx("h1",{className:L.WelcomeText,children:"Welcome"}),c.jsxs("div",{className:L.LoginWidget,children:[!!l&&c.jsx("span",{className:L.Error,children:"Вы ввели неверный userName или пароль"}),m&&c.jsx(W,{placeholder:"Имя",onChange:C,value:s,className:L.Input,rowStartIcon:c.jsx(le,{width:25,height:25})}),c.jsx(W,{placeholder:"Имя пользователя",onChange:d,value:o,className:L.Input,rowStartIcon:c.jsx(le,{width:25,height:25})}),c.jsx(W,{placeholder:"Пароль",type:"password",onChange:h,value:e,className:L.Input,rowStartIcon:c.jsx(ce,{width:25,height:25})}),m&&c.jsx(W,{className:j(L.Input,{},[L.LastInput]),placeholder:"Подтвердите пароль",type:"password",onChange:f,value:a,rowStartIcon:c.jsx(ce,{width:25,height:25})}),m&&e!==a&&e&&a&&c.jsx("span",{className:L.Error,children:"Пароли не совпадают"}),!u&&c.jsx(te,{className:L.loginBtn,onClick:m?v:g,disabled:u,children:m?"Зарегистрироваться":"Войти"}),!u&&!m&&c.jsx(te,{className:L.changeToRegistration,onClick:p,disabled:u,children:"Зарегистрироваться"}),!u&&m&&c.jsxs("div",{className:L.AccountAlrearyExists,children:[c.jsx("span",{className:L.AccountAlrearyExistsText,children:"Уже есть аккаунт?"})," ",c.jsx("span",{className:L.AccountAlrearyExistsLink,onClick:p,children:"Войдите"})]}),u&&c.jsx("div",{className:L.loader,children:c.jsx(Ht,{})})]})]})})}),Zt="_LoginPage_hhu07_1",Yt="_FormContent_hhu07_6",Xt="_Overlay_hhu07_15",ue={LoginPage:Zt,FormContent:Yt,Overlay:Xt};function Qt(){const t=Le(),n=w.useCallback(()=>{t(ye(),{replace:!0})},[]);return c.jsx("div",{className:ue.LoginPage,children:c.jsx("div",{className:ue.FormContent,children:c.jsx(qt,{onSuccess:n})})})}export{Qt as default};
